<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh">
<body>
<div class="bg-white rounded shadow p-6 mb-4">
    <h2 class="text-lg font-semibold mb-4">新增菜品</h2>
    <form th:action="'/admin/ui/dishes?token=' + ${token}"
          method="post"
          hx-post="'/admin/ui/dishes?token=' + ${token}"
          hx-target="#dish-list"
          hx-swap="outerHTML"
          class="grid grid-cols-2 gap-4">

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">菜品名称 *</label>
            <input name="name" required
                   class="w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-green-500">
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">分类 *</label>
            <select name="category" required
                    class="w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-green-500">
                <option value="veggie_leafy">绿叶蔬菜</option>
                <option value="veggie_root">根茎蔬菜</option>
                <option value="veggie_mixed">混合蔬菜</option>
                <option value="meat_red">红肉</option>
                <option value="meat_poultry">禽肉</option>
                <option value="seafood">鱼虾海鲜</option>
                <option value="tofu_egg">豆制品蛋类</option>
                <option value="soup_clear">清汤</option>
                <option value="soup_thick">浓汤</option>
                <option value="staple_rice">米饭主食</option>
                <option value="staple_other">其他主食</option>
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">难度 (1-3)</label>
            <input name="difficulty" type="number" min="1" max="3" value="2"
                   class="w-full border rounded px-3 py-2 text-sm">
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">人份数</label>
            <input name="servings" type="number" value="2"
                   class="w-full border rounded px-3 py-2 text-sm">
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">准备时间(分钟)</label>
            <input name="prepMin" type="number" value="10"
                   class="w-full border rounded px-3 py-2 text-sm">
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">烹饪时间(分钟)</label>
            <input name="cookMin" type="number" value="15"
                   class="w-full border rounded px-3 py-2 text-sm">
        </div>
        <div class="col-span-2">
            <label class="block text-sm font-medium text-gray-700 mb-1">食材 (JSON数组)</label>
            <textarea name="ingredients" rows="3"
                      placeholder='[{"item":"虾仁","amount":200,"unit":"g"}]'
                      class="w-full border rounded px-3 py-2 text-sm font-mono focus:outline-none focus:ring-1 focus:ring-green-500"></textarea>
        </div>
        <div class="col-span-2">
            <label class="block text-sm font-medium text-gray-700 mb-1">步骤 (JSON数组)</label>
            <textarea name="steps" rows="3"
                      placeholder='["步骤1...", "步骤2..."]'
                      class="w-full border rounded px-3 py-2 text-sm font-mono focus:outline-none focus:ring-1 focus:ring-green-500"></textarea>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">营养标签 (JSON数组)</label>
            <input name="nutrientTags" placeholder='["高蛋白","低GI"]'
                   class="w-full border rounded px-3 py-2 text-sm font-mono">
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">营养成分 (JSON对象)</label>
            <input name="nutrients" placeholder='{"calories":200,"protein_g":20}'
                   class="w-full border rounded px-3 py-2 text-sm font-mono">
        </div>

        <div class="col-span-2 flex gap-3 justify-end pt-2">
            <button type="button"
                    onclick="document.getElementById('form-area').innerHTML=''"
                    class="px-4 py-2 border rounded text-sm hover:bg-gray-50">取消</button>
            <button type="submit"
                    class="px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700">保存</button>
        </div>
    </form>
</div>
</body>
</html>
