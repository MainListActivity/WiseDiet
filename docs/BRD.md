产品商业需求文档 (BRD)：AI 智能健康饮食助手
版本号：v1.0 日期：2026-01-21 状态：草稿/探讨中
1. 项目愿景与概述 (Executive Summary)
本项目旨在开发一款基于大语言模型（LLM）的超个性化饮食推荐 App。产品聚焦于**“买菜”与“做菜”场景，不涉及外卖/外出就餐。 核心价值在于通过用户的职业特征、生理状态及近7天真实饮食历史**，利用 LLM 生成具备强解释性（推荐理由）、强执行力（全链路时间管理）的每日三餐及加餐方案。旨在解决现代人“不知道吃什么”、“如何吃得健康”以及“难以坚持”的痛点。
2. 目标用户画像 (Target Personas)
产品设计需涵盖以下维度的用户特征：
职业维度：
脑力劳动者（如程序员）：久坐、用眼过度、加班多 -> 需关注护眼、抗疲劳、低GI（防犯困）。
高压职业（如医生、律师）：饮食不规律、精神压力大 -> 需关注能量密度、快速补充、神经舒缓。
生理状态维度：
特殊阶段：备孕、怀孕（早/中/晚期）、哺乳期。
身体管理：减脂、增肌、控糖（糖尿病前期/确诊）、慢性病管理。
家庭维度：
单身独居 vs 多人家庭（需支持 N 人份量计算）。
3. 核心功能需求 (Functional Requirements)
3.1 冷启动与画像构建 (Onboarding)
输入项：
基础信息：身高、体重、年龄、性别。
关键状态：职业（关联生活标签）、当前生理目标（如怀孕、控糖）、过敏源/忌口。
家庭参数 (N)：常规就餐人数，用于计算食材采购量。
输出项：
生成一份初始《个人/家庭饮食健康策略书》，建立用户信任。
3.2 智能推荐引擎 (Recommendation Engine)
触发机制：每日 7:00 AM 推送当日饮食方案。
推荐逻辑 (LLM Prompt Logic)：
输入上下文 = [用户画像] + [职业标签] + [N人份] + [近7天已确认饮食记录]。
N+1 候选机制：针对 N 人用餐，大模型推荐 N+1 道菜品供用户勾选（给予选择权）。
多餐制支持：根据用户状态（如糖尿病/孕期），自动生成“早+午+晚”或“3正餐+2加餐”方案。
推荐内容展示：
推荐理由：高度定制化（例如：“基于您程序员职业，这道菜富含叶黄素...”）。
菜品详情：名称、AI生成图、制作难度、营养标签。
3.3 决策与执行系统 (Decision & Execution)
时间成本管理 (Time-Table)：
推荐时必须包含三个时间维度的估算：采购耗时、备菜耗时、制作耗时。
支持“倒推提醒”：设定开饭时间，系统反推开始做饭和买菜的时间点。
购物清单生成：
用户确认菜单后，自动将所有菜品拆解为“合并后的食材清单”。
支持按超市分区（蔬菜/肉类/干货）分类。
3.4 历史记录与闭环反馈 (History & Feedback Loop)
近7天滑动窗口 (7-Day Sliding Window)：
App 核心只追踪最近 7 天的饮食数据作为下一次推荐的依据。
全量历史归档：
用户可查看所有过往记录。
动态修正与补录：
修改功能：用户可进入历史记录，修改过去 7 天内任意一餐的实际摄入情况（如：牛肉没买到，换成了猪肉；或者漏吃了一顿）。
成分重算：修改提交后，系统实时重新计算当日营养摄入（如：牛肉含量归零，猪肉含量增加），并更新发给 LLM 的 Context。
4. 数据逻辑与架构 (Data Logic)
4.1 核心数据结构 (JSON Schema)
大模型输出及前端渲染需遵循以下标准结构：
JSON
{
"date": "2026-05-20",
"meal_plan": {
"breakfast": [...],
"lunch": [
{
"id": "dish_001",
"name": "西蓝花炒虾仁",
"recommendation_reason": "针对程序员久坐，补充高纤维...",
"ingredients_raw": [
{"item": "虾仁", "amount": 200, "unit": "g"},
{"item": "西蓝花", "amount": 300, "unit": "g"}
],
"nutrient_tags": ["高蛋白", "低GI"],
"cooking_steps": ["步骤1...", "步骤2..."],
"time_cost": {
"prep_min": 10,
"cook_min": 5
}
}
],
"snacks": [...]
},
"daily_summary": {
"total_prep_time": 45,
"shopping_list_merged": [...]
}
}
4.2 数据追踪埋点
系统需在后台记录以下字段，用于生成次日的 Prompt：
daily_beef_intake (g)
daily_carb_source (type: rice/bread/corn)
daily_nuts_intake (g)
daily_veggie_color_variety (count)
user_feedback_negative (list of rejected ingredients/methods)
5. 交互流程图 (User Flow Outline)
7:00 AM -> 推送到达 -> 用户查看“今日建议”。
筛选 -> 用户基于 N+1 列表勾选今日想吃的菜 -> 点击【确认菜单】。
生成 -> 系统生成采购清单 + 烹饪时间轴。
执行 -> 用户采购、备菜、烹饪（可参考 App 步骤）。
反馈/修正 ->
情况A：按计划执行 -> 无需操作。
情况B：有变动 -> 晚上或次日进入【历史记录】，修改昨日实际摄入内容。
循环 -> 次日 7:00 AM，LLM 读取修正后的近 7 天数据，生成新推荐。
6. 项目边界 (Scope)
In Scope (包含)：
家庭烹饪食谱推荐。
食材采购清单生成。
基于健康状态的饮食建议。
时间管理与提醒。
Out of Scope (不包含)：
外卖点餐链接/餐厅推荐。
电商直接购买食材（一期暂不支持，仅生成清单）。
医疗处方（仅提供健康饮食建议，不做医疗诊断）。